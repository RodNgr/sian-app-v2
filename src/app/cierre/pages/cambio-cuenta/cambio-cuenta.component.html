<ngx-spinner bdColor="rgba(0, 0, 0, 0.8)" size="medium" color="#fff" type="ball-spin" [fullScreen]="true">
    <p style="color: white"> Cargando... </p>
</ngx-spinner>

<div class="card col">
    <div class="p-mb-2">
        <div class="p-fluid p-formgrid p-grid">
            <div class="p-field p-col-4">
                 <label for="lblNombreTienda">Nombre Tienda:</label>
                 <input type="text" pInputText [(ngModel)]="Tienda" (keyup)="onKDownTienda($event)"/>                 
             </div>
            <!-- <div class="p-field p-col-2 p-mt-4">
                <button pButton type="button" label="Buscar" icon="pi pi-search" class="p-button" (click)="Buscar()"></button>
            </div>    -->         
            <div class="p-field p-col-3 p-mt-4">
                <button pButton pRipple pTooltip="Selecciona una cuenta" tooltipPosition="bottom" (click)="editarCuentaBancaria()" label="Editar cuenta bancaria" icon="pi pi-user-edit"
                        class="p-button-primary p-mr-2" ></button>
            </div>
        </div>
    </div>
    <p-table #dt [value]="CuentasTiendas" [responsive]="true" [rows]="15" [paginator]="true" [rowHover]="true"
          [globalFilterFields]="['CodTienda,CodBanco,CodMoneda,CodNumero']" [scrollable]="true" scrollHeight="40vh"
          selectionMode="single" [(selection)]="CuentaSelected" styleClass="p-datatable-sm p-datatable-striped" columnResizeMode="expand"
          currentPageReportTemplate="Mostrando {first} al {last} de {totalRecords} registros" [showCurrentPageReport]="true"
          [rowsPerPageOptions]="[15,25,50,100]" (onRowSelect)="onRowSelect($event)">

        <ng-template pTemplate="header">
          <tr>
            <th>Marca</th>
            <th pSortableColumn="campanha">Tienda<p-sortIcon field="Tienda"></p-sortIcon>
            </th>
            <th pSortableColumn="tipo">Banco<p-sortIcon field="tipo"></p-sortIcon>
            </th>
            <th pSortableColumn="nombreCupon">Moneda<p-sortIcon field="nombreCupon"></p-sortIcon>
            </th>
            <th pSortableColumn="desde">Numero Cuenta<p-sortIcon field="desde"></p-sortIcon>
            </th>            
            <th pSortableColumn="creacion">Cuenta Contable<p-sortIcon field="desde"></p-sortIcon>
            </th>
          </tr>
        </ng-template>
  
        <ng-template pTemplate="body" let-CuentaBancaria>
          
          <tr [pSelectableRow]="CuentaBancaria">
            <td>{{CuentaBancaria.marcaDesc}}</td>
            <td>{{CuentaBancaria.tienda}}</td>
            <td>{{CuentaBancaria.banco}}</td>
            <td>{{CuentaBancaria.moneda}}</td>
            <td>{{CuentaBancaria.numero}}</td>
            <td>{{CuentaBancaria.cuenta}}</td>
          </tr> 

        </ng-template>
      
      </p-table> 
</div>